{% extends 'base.html' %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {

        var data = google.visualization.arrayToDataTable([
            ['Rating', 'Number'],
            {% for key, value in ratecount.items() %}
                ['Rating {{ key }}', {{ value }}],
            {% endfor %}
        ]);
     
        var options = {
          title: 'Data Buku Berdasarkan Rating',
          pieHole: 0.4 
        };

        var chart = new google.visualization.PieChart(document.getElementById('chartrating'));

        chart.draw(data, options);
      }
</script>

<script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Languages', 'Books'],
          {% for i in dataBahasa %}
            ['{{i[0]}}',{{i[1]}}],
          {% endfor %}
        ]);
        

        var options = {
          title: 'Data Perbandingan Jumlah Bahasa Buku'
        };

        var chart = new google.visualization.PieChart(document.getElementById('chartbahasa'));

        chart.draw(data, options);
      }
 
</script>
</head>
  <body>
    <div id="chartrating" style="width: 900px; height: 500px;"></div>
    <div id="chartbahasa" style="width: 900px; height: 500px;"></div>
  </body>
</html>
{% endblock %}
